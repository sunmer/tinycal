/*
 @version 1.0
 @url http://sunmer.github.com/tinycal
*/
var tinycal=function(){function p(n,i,c){c.container.removeChild(a.getElementById(c.calendarID));q(n,i,c)}function q(n,i,c){var e=new Date(n,i,1),l=new Date(e.getFullYear(),e.getMonth(),1),o=a.createElement("table"),k=a.createElement("thead"),h=a.createElement("tr"),b=a.createElement("th"),d=a.createElement("a");d.addEventListener?d.addEventListener("click",function(){p(e.getFullYear(),e.getMonth()-1,c)},!1):d.attachEvent("onclick",function(){p(e.getFullYear(),e.getMonth()-1,c)});d.appendChild(a.createTextNode("<"));
d.className="prev";b.appendChild(d);var g=a.createElement("span");g.appendChild(a.createTextNode(c.fullYear[e.getMonth()]+" "+e.getFullYear()));b.appendChild(g);d=a.createElement("a");d.addEventListener?d.addEventListener("click",function(){p(e.getFullYear(),e.getMonth()+1,c)},!1):d.attachEvent("onclick",function(){p(e.getFullYear(),e.getMonth()+1,c)});d.appendChild(a.createTextNode(">"));d.className="next";b.appendChild(d);b.setAttribute("colSpan","7");h.appendChild(b);k.appendChild(h);h=a.createElement("tr");
for(f=0;f<c.fullWeek.length;f++)b=a.createElement("th"),b.appendChild(a.createTextNode(c.fullWeek[f])),h.appendChild(b);k.appendChild(h);var h=a.createElement("tbody"),g=a.createElement("tr"),j=1,l=l.getDay();!c.sunStart&&0===l&&(l=7);for(var f=c.sunStart?0:1;f<l;f++)b=a.createElement("td"),g.appendChild(b),j++;for(var q=e.getFullYear()===m.getFullYear()&&e.getMonth()===m.getMonth(),r=(new Date(e.getFullYear(),e.getMonth()+1,0)).getDate(),f=1;f<=r;f++)b=a.createElement("td"),b.className=q&&f==m.getDate()?
"today":"day",d=a.createElement("a"),d.appendChild(a.createTextNode(f)),b.appendChild(d),g.appendChild(b),!c.sunStart&&0==j%6?b.className+=" weekend sat":c.sunStart&&0==j%1&&(b.className+=" weekend sat"),0===j%7&&(b.className+=" weekend sun",h.appendChild(g),g=a.createElement("tr"),j=0),c.callback&&function(){var a=f;d.addEventListener?d.addEventListener("click",function(){c.callback(new Date(n,i,a))},false):d.attachEvent("onclick",function(){c.callback(new Date(n,i,a))})}(),j++;for(f=r+l;43>f;f++)b=
a.createElement("td"),b.innerHTML="&nbsp;",g.appendChild(b),0===j%7&&(h.appendChild(g),g=a.createElement("tr")),j++;h.appendChild(g);o.appendChild(k);o.appendChild(h);o.setAttribute("id",c.calendarID);o.className="tinycal";c.container.appendChild(o)}var a=document,k,m;return{init:function(a){m=new Date;k={calendarID:"tinycal",callback:!1,container:document.body,month:m.getMonth(),year:m.getFullYear(),fullWeek:"mon,tue,wed,thu,fri,sat,sun".split(","),fullYear:"jan,feb,mar,apr,may,jun,jul,aug,sep,okt,nov,dec".split(","),
sunStart:!1};if("undefined"!==typeof a){"number"===typeof a.month&&(a.month-=1);for(var i in k)"undefined"===typeof a[i]&&(a[i]=k[i])}else a=k;a.sunStart&&a.fullWeek.unshift(a.fullWeek.pop());q(a.year,a.month,a)}}}();